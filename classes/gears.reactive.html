<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Class gears.reactive - awesome API documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
   <script>
     function show_extra(id) {
        var cur = document.getElementById("item"+id).className

        if (cur == "hide_extra") {
            document.getElementById("item"+id).className = "show_more"
            document.getElementById("button"+id).className = "hide_extra"
        }
     }
   </script>

</head>
<body>

<div id="container">

<div id="product">
    <div id="product_logo"></div>
    <div id="product_name"><big><b></b></big></div>
    <div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">




<!-- Menu -->

<div id="navigation">
<br/>
<h1>awesome</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Constructors">Constructors</a></li>
<li><a href="#Object_properties">Object properties</a></li>
<li><a href="#Object_methods">Object methods </a></li>
<li><a href="#Signals">Signals</a></li>
</ul>


<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/awful.widget.common.html">awful.widget.common</a></li>
  <li><a href="../classes/gears.cache.html">gears.cache</a></li>
  <li><a href="../classes/gears.connection.html">gears.connection</a></li>
  <li><a href="../classes/gears.history.html">gears.history</a></li>
  <li><a href="../classes/gears.matrix.html">gears.matrix</a></li>
  <li><strong>gears.reactive</strong></li>
  <li><a href="../classes/gears.watcher.html">gears.watcher</a></li>
  <li><a href="../classes/menubar.icon_theme.html">menubar.icon_theme</a></li>
  <li><a href="../classes/menubar.index_theme.html">menubar.index_theme</a></li>
  <li><a href="../classes/signals.html">signals</a></li>
  <li><a href="../classes/wibox.container.conditional.html">wibox.container.conditional</a></li>
  <li><a href="../classes/wibox.container.scale.html">wibox.container.scale</a></li>
  <li><a href="../classes/wibox.container.template.html">wibox.container.template</a></li>
  <li><a href="../classes/wibox.drawable.html">wibox.drawable</a></li>
  <li><a href="../classes/wibox.hierarchy.html">wibox.hierarchy</a></li>
  <li><a href="../classes/wibox.widget.base.html">wibox.widget.base</a></li>
  <li><a href="../classes/wibox.widget.status.html">wibox.widget.status</a></li>
  <li><a href="../classes/xproperties.html">xproperties</a></li>
</ul>
<h2>Core components</h2>
<ul class="nowrap">
  <li><a href="../core_components/awesome.html">awesome</a></li>
  <li><a href="../core_components/awful.keygrabber.html">awful.keygrabber</a></li>
  <li><a href="../core_components/client.html">client<span class='listplusign'> and awful.client</span></a></li>
  <li><a href="../core_components/drawable.html">drawable</a></li>
  <li><a href="../core_components/gears.timer.html">gears.timer</a></li>
  <li><a href="../core_components/mousegrabber.html">mousegrabber</a></li>
  <li><a href="../core_components/naughty.action.html">naughty.action</a></li>
  <li><a href="../core_components/naughty.notification.html">naughty.notification</a></li>
  <li><a href="../core_components/root.html">root</a></li>
  <li><a href="../core_components/screen.html">screen<span class='listplusign'> and awful.screen</span></a></li>
  <li><a href="../core_components/tag.html">tag<span class='listplusign'> and awful.tag</span></a></li>
</ul>
<h2>Input handling</h2>
<ul class="nowrap">
  <li><a href="../input_handling/awful.button.html">awful.button</a></li>
  <li><a href="../input_handling/awful.key.html">awful.key</a></li>
  <li><a href="../input_handling/awful.keyboard.html">awful.keyboard</a></li>
  <li><a href="../input_handling/mouse.html">mouse</a></li>
</ul>
<h2>Declarative rules</h2>
<ul class="nowrap">
  <li><a href="../declarative_rules/ruled.client.html">ruled.client</a></li>
  <li><a href="../declarative_rules/ruled.clipboard.html">ruled.clipboard</a></li>
  <li><a href="../declarative_rules/ruled.notifications.html">ruled.notifications</a></li>
  <li><a href="../declarative_rules/ruled.screen.html">ruled.screen</a></li>
  <li><a href="../declarative_rules/ruled.tag.html">ruled.tag</a></li>
</ul>
<h2>Widgets</h2>
<ul class="nowrap">
  <li><a href="../widgets/awful.widget.button.html">awful.widget.button</a></li>
  <li><a href="../widgets/awful.widget.clienticon.html">awful.widget.clienticon</a></li>
  <li><a href="../widgets/awful.widget.keyboardlayout.html">awful.widget.keyboardlayout</a></li>
  <li><a href="../widgets/awful.widget.launcher.html">awful.widget.launcher</a></li>
  <li><a href="../widgets/awful.widget.layoutbox.html">awful.widget.layoutbox</a></li>
  <li><a href="../widgets/awful.widget.layoutlist.html">awful.widget.layoutlist</a></li>
  <li><a href="../widgets/awful.widget.prompt.html">awful.widget.prompt</a></li>
  <li><a href="../widgets/awful.widget.taglist.html">awful.widget.taglist</a></li>
  <li><a href="../widgets/awful.widget.tasklist.html">awful.widget.tasklist</a></li>
  <li><a href="../widgets/awful.widget.watch.html">awful.widget.watch</a></li>
  <li><a href="../widgets/naughty.list.actions.html">naughty.list.actions</a></li>
  <li><a href="../widgets/naughty.list.notifications.html">naughty.list.notifications</a></li>
  <li><a href="../widgets/naughty.widget.icon.html">naughty.widget.icon</a></li>
  <li><a href="../widgets/naughty.widget.message.html">naughty.widget.message</a></li>
  <li><a href="../widgets/naughty.widget.title.html">naughty.widget.title</a></li>
  <li><a href="../widgets/wibox.widget.calendar.html">wibox.widget.calendar</a></li>
  <li><a href="../widgets/wibox.widget.checkbox.html">wibox.widget.checkbox</a></li>
  <li><a href="../widgets/wibox.widget.graph.html">wibox.widget.graph</a></li>
  <li><a href="../widgets/wibox.widget.imagebox.html">wibox.widget.imagebox</a></li>
  <li><a href="../widgets/wibox.widget.piechart.html">wibox.widget.piechart</a></li>
  <li><a href="../widgets/wibox.widget.progressbar.html">wibox.widget.progressbar</a></li>
  <li><a href="../widgets/wibox.widget.separator.html">wibox.widget.separator</a></li>
  <li><a href="../widgets/wibox.widget.slider.html">wibox.widget.slider</a></li>
  <li><a href="../widgets/wibox.widget.systray.html">wibox.widget.systray</a></li>
  <li><a href="../widgets/wibox.widget.textbox.html">wibox.widget.textbox</a></li>
  <li><a href="../widgets/wibox.widget.textclock.html">wibox.widget.textclock</a></li>
</ul>
<h2>Widget containers</h2>
<ul class="nowrap">
  <li><a href="../widget_containers/awful.widget.only_on_screen.html">awful.widget.only_on_screen</a></li>
  <li><a href="../widget_containers/naughty.widget.background.html">naughty.widget.background</a></li>
  <li><a href="../widget_containers/wibox.container.arcchart.html">wibox.container.arcchart</a></li>
  <li><a href="../widget_containers/wibox.container.background.html">wibox.container.background</a></li>
  <li><a href="../widget_containers/wibox.container.constraint.html">wibox.container.constraint</a></li>
  <li><a href="../widget_containers/wibox.container.margin.html">wibox.container.margin</a></li>
  <li><a href="../widget_containers/wibox.container.mirror.html">wibox.container.mirror</a></li>
  <li><a href="../widget_containers/wibox.container.place.html">wibox.container.place</a></li>
  <li><a href="../widget_containers/wibox.container.radialprogressbar.html">wibox.container.radialprogressbar</a></li>
  <li><a href="../widget_containers/wibox.container.rotate.html">wibox.container.rotate</a></li>
  <li><a href="../widget_containers/wibox.container.scroll.html">wibox.container.scroll</a></li>
  <li><a href="../widget_containers/wibox.container.tile.html">wibox.container.tile</a></li>
</ul>
<h2>Widget layouts</h2>
<ul class="nowrap">
  <li><a href="../widget_layouts/wibox.layout.align.html">wibox.layout.align</a></li>
  <li><a href="../widget_layouts/wibox.layout.fixed.html">wibox.layout.fixed</a></li>
  <li><a href="../widget_layouts/wibox.layout.flex.html">wibox.layout.flex</a></li>
  <li><a href="../widget_layouts/wibox.layout.grid.html">wibox.layout.grid</a></li>
  <li><a href="../widget_layouts/wibox.layout.manual.html">wibox.layout.manual</a></li>
  <li><a href="../widget_layouts/wibox.layout.ratio.html">wibox.layout.ratio</a></li>
  <li><a href="../widget_layouts/wibox.layout.stack.html">wibox.layout.stack</a></li>
</ul>
<h2>Popups and bars</h2>
<ul class="nowrap">
  <li><a href="../popups_and_bars/awful.hotkeys_popup.widget.html">awful.hotkeys_popup.widget</a></li>
  <li><a href="../popups_and_bars/awful.menu.html">awful.menu</a></li>
  <li><a href="../popups_and_bars/awful.popup.html">awful.popup</a></li>
  <li><a href="../popups_and_bars/awful.titlebar.html">awful.titlebar</a></li>
  <li><a href="../popups_and_bars/awful.tooltip.html">awful.tooltip</a></li>
  <li><a href="../popups_and_bars/awful.wallpaper.html">awful.wallpaper</a></li>
  <li><a href="../popups_and_bars/awful.wibar.html">awful.wibar</a></li>
  <li><a href="../popups_and_bars/awful.widget.calendar_popup.html">awful.widget.calendar_popup</a></li>
  <li><a href="../popups_and_bars/menubar.html">menubar</a></li>
  <li><a href="../popups_and_bars/naughty.layout.box.html">naughty.layout.box</a></li>
  <li><a href="../popups_and_bars/naughty.layout.legacy.html">naughty.layout.legacy</a></li>
  <li><a href="../popups_and_bars/wibox.html">wibox</a></li>
</ul>
<h2>Utility libraries</h2>
<ul class="nowrap">
  <li><a href="../utility_libraries/gears.debug.html">gears.debug</a></li>
  <li><a href="../utility_libraries/gears.filesystem.html">gears.filesystem</a></li>
  <li><a href="../utility_libraries/gears.geometry.html">gears.geometry</a></li>
  <li><a href="../utility_libraries/gears.math.html">gears.math</a></li>
  <li><a href="../utility_libraries/gears.object.html">gears.object</a></li>
  <li><a href="../utility_libraries/gears.protected_call.html">gears.protected_call</a></li>
  <li><a href="../utility_libraries/gears.sort.html">gears.sort</a></li>
  <li><a href="../utility_libraries/gears.string.html">gears.string</a></li>
  <li><a href="../utility_libraries/gears.table.html">gears.table</a></li>
  <li><a href="../utility_libraries/gears.wallpaper.html">gears.wallpaper</a></li>
</ul>
<h2>Theme related libraries</h2>
<ul class="nowrap">
  <li><a href="../theme_related_libraries/beautiful.html">beautiful</a></li>
  <li><a href="../theme_related_libraries/gears.color.html">gears.color</a></li>
  <li><a href="../theme_related_libraries/gears.shape.html">gears.shape</a></li>
</ul>
<h2>Client tiling</h2>
<ul class="nowrap">
  <li><a href="../client_tiling/dynamite.html">dynamite</a></li>
  <li><a href="../client_tiling/dynamite.layout.conditional.html">dynamite.layout.conditional</a></li>
  <li><a href="../client_tiling/dynamite.layout.ratio.html">dynamite.layout.ratio</a></li>
  <li><a href="../client_tiling/dynamite.layout.stack.html">dynamite.layout.stack</a></li>
  <li><a href="../client_tiling/dynamite.layout.tabbed.html">dynamite.layout.tabbed</a></li>
  <li><a href="../client_tiling/dynamite.utils.html">dynamite.utils</a></li>
  <li><a href="../client_tiling/dynamite.widget.placeholder.html">dynamite.widget.placeholder</a></li>
</ul>
<h2>Libraries</h2>
<ul class="nowrap">
  <li><a href="../libraries/awful.completion.html">awful.completion</a></li>
  <li><a href="../libraries/awful.hotkeys_popup.html">awful.hotkeys_popup</a></li>
  <li><a href="../libraries/awful.layout.html">awful.layout</a></li>
  <li><a href="../libraries/awful.permissions.html">awful.permissions</a></li>
  <li><a href="../libraries/awful.placement.html">awful.placement</a></li>
  <li><a href="../libraries/awful.prompt.html">awful.prompt</a></li>
  <li><a href="../libraries/awful.spawn.html">awful.spawn</a></li>
  <li><a href="../libraries/awful.util.html">awful.util</a></li>
  <li><a href="../libraries/dbus.html">dbus</a></li>
  <li><a href="../libraries/dynamite.widget.pager.html">dynamite.widget.pager</a></li>
  <li><a href="../libraries/dynamite.widget.spawn.html">dynamite.widget.spawn</a></li>
  <li><a href="../libraries/gears.matcher.html">gears.matcher</a></li>
  <li><a href="../libraries/gears.surface.html">gears.surface</a></li>
  <li><a href="../libraries/lib.lain.layout.centerwork.html">lib.lain.layout.centerwork</a></li>
  <li><a href="../libraries/menubar.menu_gen.html">menubar.menu_gen</a></li>
  <li><a href="../libraries/menubar.utils.html">menubar.utils</a></li>
  <li><a href="../libraries/naughty.html">naughty</a></li>
  <li><a href="../libraries/selection.html">selection</a></li>
  <li><a href="../libraries/wibox.widget.html">wibox.widget</a></li>
</ul>
<h2>Sample files</h2>
<ul class="nowrap">
  <li><a href="../sample files/rc.lua.html">rc.lua</a></li>
  <li><a href="../sample files/theme.lua.html">theme.lua</a></li>
</ul>
<h2>Documentation</h2>
<ul class="nowrap">
  <li><a href="../documentation/00-authors.md.html">Authors</a></li>
  <li><a href="../documentation/01-readme.md.html">Readme</a></li>
  <li><a href="../documentation/02-contributing.md.html">Contributing</a></li>
  <li><a href="../documentation/03-declarative-layout.md.html">The Widget system</a></li>
  <li><a href="../documentation/04-new-widgets.md.html">Creating new widget</a></li>
  <li><a href="../documentation/05-awesomerc.md.html">Default configuration file documentation</a></li>
  <li><a href="../documentation/06-appearance.md.html">Change Awesome appearance</a></li>
  <li><a href="../documentation/07-my-first-awesome.md.html">My first Awesome</a></li>
  <li><a href="../documentation/08-client-layout-system.md.html">The AwesomeWM client layout system</a></li>
  <li><a href="../documentation/09-options.md.html">Startup options</a></li>
  <li><a href="../documentation/10-building-and-testing.md.html">Building and Testing</a></li>
  <li><a href="../documentation/16-using-cairo.md.html">Using Cairo and LGI</a></li>
  <li><a href="../documentation/17-porting-tips.md.html">Tips for upgrading your configuration</a></li>
  <li><a href="../documentation/89-NEWS.md.html">NEWS</a></li>
  <li><a href="../documentation/90-FAQ.md.html">FAQ</a></li>
</ul>

</div>

<div id="content">

<h1>Module: <code>gears.reactive</code></h1>
<p>Utility module to convert functions to Excel like objects.</p>
<p>


<p> When converting a function into a <a href="../classes/gears.reactive.html#">gears.reactive</a> object, all
 properties accessed by the function are monitored for changes.</p>

<p> When such a change is detected, the <code>property::value</code> signal is emitted. When
 used within a widget declarative construct, the property it is attached
 to will also be automatically updated.</p>

<h1> Theory</h1>

<p> <img src="../images/gears_reactive.svg" alt="Client geometry"/></p>

<p> To use this module and, more importantly, to understand how to write something
 that actually works based on it, some background is required. Most AwesomeWM
 objects are based on the <a href="../utility_libraries/gears.object.html#">gears.object</a> module or it's <code>C</code> equivalent. Those
 objects have "properties". Behind the scene, they have getters, setters and
 a signal to notify the value changed.</p>

<p> <a href="../classes/gears.reactive.html#">gears.reactive</a> adds a firewall like sandbox around the function. It
 intercept any <a href="../utility_libraries/gears.object.html#">gears.object</a> instance trying to cross the sandbox boundary
 and replace them with proxy objects. Those proxies have built-in
 introspection code to detect how they are used. This is then converted into
 a list of objects and signals to monitor. Once one of the monitored object
 emits one of the monitored signal, then the whole function is re-evaluated.
 Each time the function is evaluated, the "target" properties are updated. The
 reactive function result or any call to external function from within goes
 through the firewall again and any proxies are removed.</p>

<p> That design has one big limitation. It cannot detect any changes which are
 not directly part of <a href="../utility_libraries/gears.object.html#">gears.object</a> instance. You cannot use random tables
 and expect the function to be called when it's content change. To work
 around this, it is recommanded to make "hub" objects to store the data used
 within the reactive function.</p>

<h1> Recommanded usage</h1>

<p> The best way to use <a href="../classes/gears.reactive.html#">gears.reactive</a> is when the value used within the
 expressions are part of other objects. It can be a <a href="../classes/gears.watcher.html#">gears.watcher</a>, but
 it can also be a custom object:</p>



<p><img src="../images/AUTOGEN_wibox_widget_declarative_reactive.svg" alt="Usage example"/></p>



<pre>
<span class="comment">-- It's important to set 'enable_auto_signals' to <code>true</code> or it wont work.
</span><span class="comment">--
</span><span class="comment">-- Note that most AwesomeWM objects (and most modules) objects can be
</span><span class="comment">-- used directly as long as they implement the signal <code>property::</code> spec.
</span><span class="comment">--
</span><span class="comment">-- So you don't *need* a hub object, but it's safer to use one.
</span><span class="keyword">local</span> my_hub = gears.object {
    enable_properties   = <span class="keyword">true</span>,
    enable_auto_signals = <span class="keyword">true</span>
}

<span class="comment">-- Better set a default value to avoid weirdness.
</span>my_hub.some_property = <span class="number">42</span>

<span class="comment">-- This is an example, in practice do this in your
</span><span class="comment">-- wibar widget declaration tree.
</span><span class="keyword">local</span> w = wibox.widget {
    markup = gears.reactive(<span class="keyword">function</span>()
        <span class="comment">-- Each time <code>my_hub.some_property</code> changes, this will be
</span>        <span class="comment">-- re-interpreted.
</span>        <span class="keyword">return</span> <span class="string">'&lt;i&gt;'</span> .. (my_hub.some_property / <span class="number">100</span>) .. <span class="string">'&lt;/i&gt;'</span>
    <span class="keyword">end</span>),
    widget = wibox.widget.textbox
}

<span class="comment">-- This will update the widget text to '&lt;i&gt;13.37&lt;/i&gt;'
</span>my_hub.some_property = <span class="number">1337</span>
</pre>

<h1> Limitations</h1>

<p> <a href="../classes/gears.reactive.html#">gears.reactive</a> is pushing Lua way beyond what it has been designed for.
 Because of this, there is some limitations.</p>

<ul>
    <li>This module will <strong>NOT</strong> try to track the change of other
    functions and methods called by the expression. It is <strong>NOT</strong> recursive
    and only the top level properties are tracked. This is a feature, not a
    bug. If it was recursive, this list of limitations or gotchas would be
    endless.</li>
    <li>This only works with <a href="../utility_libraries/gears.object.html#">gears.object</a> and Core API objects which implement
    the <code>property::<strong>*</strong></code> signals correctly. If it is a regular Lua table
    or the property signals are incorrectly used, the value changes cannot
    be detected. If you find something that should work, but doesn't in
    one of the AwesomeWM API, <a href="https://github.com/awesomeWM/awesome/issues/new">please report a bug</a>.</li>
    <li>More generally, when making a custom <a href="../utility_libraries/gears.object.html#">gears.object</a> with custom setters,
    it is the programmer responsibility to emit the signal. It is also
    required to only emit those signals when the property actually changes to
    avoid an unecessary re-evaluations.</li>
    <li>Changing the type of the variables accessed by the reactive function
    (its "upvalues") after the reactive expression has been created wont
    be detected. It will cause missed updates and, potentially, hard to debug
    Lua errors within the proxy code itself.</li>
    <li>Internally, the engine tries its best to prevent the internal proxy objects
    to leak out the sandbox. However this cannot be perfect, at least not
    without adding limitation elsewhere. It is probably worth reporting a bug if
    you encounter such an issue. But set your expectations, not all corner case
    can be fixed.</li>
    <li>Don't use rawset in the expression.</li>
    <li>If the return value is a table, only the first 3 nesting levels are sanitized.
    Avoid using nested tables in the returned value if you can. <a href="../utility_libraries/gears.object.html#">gears.object</a>
    instances <em>should</em> be fine.</li>
    <li>There is currently no way to disable a reactive expression once it's
    been defined. This may change eventually.</li>
    <li>Rio Lua 5.1 (not LuaJIT 2.1) is currently not support. If you need it,
    <a href="https://github.com/awesomeWM/awesome/issues/new">please report a bug</a>.</li>
</ul>
</p>
    <div class="extra-header">


  <div class="extra-header__section">
    <h3>Info:</h3>
    <ul>
                <li><strong>Copyright</strong>: 2017-2020 Emmanuel Lepage-Vallee</li>
                <li>
                    <strong>Originally authored by</strong>: Emmanuel Lepage-Vallee &lt;elv1313@gmail.com&gt;<br />
                    <small>(Full contributors list available on
                    <a href="https://github.com/awesomeWM/awesome/graphs/contributors">
                        our github project)
                    </a></small>

                </li>
    </ul>
  </div>

</div>


<h2><a href="#Constructors">Constructors</a></h2>
<table class="function_list">
    <tr>
      <td class="name" >
        <a href="#gears.reactive">gears.reactive <span class='function_named_args'><b>{</b>[args]<b>}</b></span></a>
      </td>
      <td colspan="2" class="summary">
        Create a new <a href="../classes/gears.reactive.html#">gears.reactive</a> object.
      </td>
    </tr>
</table>
<h2><a href="#Object_properties">Object properties</a></h2>
<table class="function_list">
    <tr>
      <td class="shortname" ><a href="#gears.reactive.expression">expression</a></td>
      <td class="summarytype" nowrap><span class='summary_type'>function</span></td>
      <td colspan="2" class="summary">
        A function which will be evaluated each time its content changes.
      </td>
    </tr>
    <tr>
      <td class="shortname" ><a href="#gears.reactive.value">value</a></td>
      <td class="summarytype" nowrap><span class='summary_type'>N/A</span></td>
      <td colspan="2" class="summary">
        The current value of the expression.
      </td>
    </tr>
    <tr>
      <td class="shortname" ><a href="#gears.reactive.delayed">delayed</a></td>
      <td class="summarytype" nowrap><span class='summary_type'>boolean</span></td>
      <td colspan="2" class="summary">
        Only evaluate once per event loop iteration.
      </td>
    </tr>
</table>
<h2><a href="#Object_methods">Object methods </a></h2>
<table class="function_list">
    <tr>
      <td class="name" >
        <a href="#gears.reactive.disconnect">:disconnect <span class='function_args'> <b>(</b><b>)</b></span></a>
        <span class="summarytype"></span>
      </td>
      <td colspan="2" class="summary">
        Disconnect all expression signals.
      </td>
    </tr>
    <tr>
      <td class="name" >
        <a href="#gears.reactive.refresh">:refresh <span class='function_args'> <b>(</b><b>)</b></span></a>
        <span class="summarytype"></span>
      </td>
      <td colspan="2" class="summary">
        Recompute the expression.
      </td>
    </tr>
    <tr>
      <td class="name" >
        <a href="#gears.reactive.emit_signal">:emit_signal <span class='function_args'> <b>(</b>name, ...<b>)</b></span></a>
        <span class="summarytype"></span>
      </td>
      <td colspan="1" class="summary">
        Emit a signal.
      </td>
      <td class="baseclass" nowrap>
        Inherited from gears.object
      </td>
    </tr>
    <tr>
      <td class="name" >
        <a href="#gears.reactive.connect_signal">:connect_signal <span class='function_args'> <b>(</b>name, func<b>)</b></span></a>
        <span class="summarytype"></span>
      </td>
      <td colspan="1" class="summary">
        Connect to a signal.
      </td>
      <td class="baseclass" nowrap>
        Inherited from gears.object
      </td>
    </tr>
    <tr>
      <td class="name" >
        <a href="#gears.reactive.weak_connect_signal">:weak_connect_signal <span class='function_args'> <b>(</b>name, func<b>)</b></span></a>
        <span class="summarytype"></span>
      </td>
      <td colspan="1" class="summary">
        Connect to a signal weakly.
      </td>
      <td class="baseclass" nowrap>
        Inherited from gears.object
      </td>
    </tr>
</table>
<h2><a href="#Signals">Signals</a></h2>
<table class="function_list">
    <tr>
      <td class="name" >
        <a href="#gears.reactive.target_added">target_added</a>
      </td>
      <td colspan="2" class="summary">
        Emitted when a new property is attached to this reactive expression.
      </td>
    </tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Constructors"></a>Constructors</h2>

    <dl class="function">
    <dt>
    <a name = "gears.reactive"></a>
    <strong>gears.reactive <span class='function_named_args'><b>{</b>[args]<b>}</b></span></strong>
    <span class="baseclass" >
    </span>
    </dt>
    <dd>
    Create a new <a href="../classes/gears.reactive.html#">gears.reactive</a> object.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">args</span>


        <ul>
        <li><span class="parameter">expression</span>
            <span class="types"><span class="type">function</span></span>
         A function which accesses other <a href="../utility_libraries/gears.object.html#">gears.object</a>.
        </li>
        <li><span class="parameter">object</span>
            <span class="types"><span class="type">gears.object</span></span>
         Any AwesomeWM object.
        </li>
        <li><span class="parameter">property</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.3/manual.html#6.4">string</a></span>
         The name of the property to track.
        </li>
        </li></ul>
    </ul>






    <span id=item2766 class="hide_extra">
    </span>

</dd>
</dl>
    <h2 class="section-header "><a name="Object_properties"></a>Object properties</h2>

    <dl class="function">
    <dt>
    <a name = "gears.reactive.expression"></a>
    <strong>expression</strong>
    <span class="proptype"><span class='summary_type'>function</span></span>
    <span class="baseclass" >
         &middot 1 signal
    </span>
    </dt>
    <dd>
    A function which will be evaluated each time its content changes.






     <br />
     <center id=button2767>
     <a class="show_more_button" onclick="show_extra('2767')">
      Click to display more
     </a>
     </center>

    <span id=item2767 class="hide_extra">
     <h3>Emit signals:</h3>
     <ul>
          <li><span class="parameter"><code>property::gears.reactive.expression</code></span>  When the <a href="../classes/gears.reactive.html#gears.reactive.expression">gears.reactive.expression</a> value changes.</li>
           <ul>
             <li><span class="parameter"><code>self</code></span> <span class="types"><a href="../classes/gears.reactive.html#">gears.reactive</a></span> The object which changed (useful when connecting many object to the same callback).</li>
             <li><span class="parameter"><code>new_value</code></span> <span class="types"><code>function</code></span> The new value affected to the property.</li>
           </ul>
     </ul>
    </span>

</dd>
    <dt>
    <a name = "gears.reactive.value"></a>
    <strong>value</strong>
    <span class="proptype"><span class='summary_type'>N/A</span></span>
    <span class="baseclass" >
         &middot 1 signal
    </span>
    </dt>
    <dd>
    The current value of the expression.






     <br />
     <center id=button2768>
     <a class="show_more_button" onclick="show_extra('2768')">
      Click to display more
     </a>
     </center>

    <span id=item2768 class="hide_extra">
     <h3>Emit signals:</h3>
     <ul>
          <li><span class="parameter"><code>property::gears.reactive.value</code></span>  When the <a href="../classes/gears.reactive.html#gears.reactive.value">gears.reactive.value</a> value changes.</li>
           <ul>
             <li><span class="parameter"><code>self</code></span> <span class="types"><a href="../classes/gears.reactive.html#">gears.reactive</a></span> The object which changed (useful when connecting many object to the same callback).</li>
           </ul>
     </ul>
    </span>

</dd>
    <dt>
    <a name = "gears.reactive.delayed"></a>
    <strong>delayed</strong>
    <span class="proptype"><span class='summary_type'>boolean</span></span>
    <span class="baseclass" >
         &middot 1 signal
    </span>
    </dt>
    <dd>
    Only evaluate once per event loop iteration. </p>

<p> In most case this is a simple performance win, but there is some
 case where you might want the expression to be evaluated each time
 one of the upvalue "really" change rather than batch them. This
 option is enabled by default.






     <br />
     <center id=button2769>
     <a class="show_more_button" onclick="show_extra('2769')">
      Click to display more
     </a>
     </center>

    <span id=item2769 class="hide_extra">
     <h3>Emit signals:</h3>
     <ul>
          <li><span class="parameter"><code>property::gears.reactive.delayed</code></span>  When the <a href="../classes/gears.reactive.html#gears.reactive.delayed">gears.reactive.delayed</a> value changes.</li>
           <ul>
             <li><span class="parameter"><code>self</code></span> <span class="types"><a href="../classes/gears.reactive.html#">gears.reactive</a></span> The object which changed (useful when connecting many object to the same callback).</li>
             <li><span class="parameter"><code>new_value</code></span> <span class="types"><a href="../classes/gears.reactive.html#gears.reactive.delayed">delayed</a></span> The new value affected to the property.</li>
           </ul>
     </ul>
    </span>

</dd>
</dl>
    <h2 class="section-header "><a name="Object_methods"></a>Object methods </h2>

    <dl class="function">
    <dt>
    <a name = "gears.reactive.disconnect"></a>
    <strong>:disconnect <span class='function_args'> <b>(</b><b>)</b></span></strong>
    <span class="proptype"></span>
    <span class="baseclass" >
    </span>
    </dt>
    <dd>
    Disconnect all expression signals.







    <span id=item2770 class="hide_extra">
    </span>

</dd>
    <dt>
    <a name = "gears.reactive.refresh"></a>
    <strong>:refresh <span class='function_args'> <b>(</b><b>)</b></span></strong>
    <span class="proptype"></span>
    <span class="baseclass" >
    </span>
    </dt>
    <dd>
    Recompute the expression. </p>

<p> When the expression uses a non-object upvalue, the changes cannot
 be auto-retected. Calling <code>:refresh()</code> will immediatly recompute the
 expression.







    <span id=item2771 class="hide_extra">
    </span>

</dd>
    <dt>
    <a name = "gears.reactive.emit_signal"></a>
    <strong>:emit_signal <span class='function_args'> <b>(</b>name, ...<b>)</b></span></strong>
    <span class="proptype"></span>
    <span class="baseclass" >
    &middot;&nbsp;Inherited from gears.object
    </span>
    </dt>
    <dd>
    Emit a signal.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.3/manual.html#6.4">string</a></span>
         The name of the signal.
        </li>
        <li><span class="parameter">...</span>
         Extra arguments for the callback functions. Each connected
   function receives the object as first argument and then any extra
   arguments that are given to emit_signal().
        </li>
    </ul>






    <span id=item2772 class="hide_extra">
    </span>

</dd>
    <dt>
    <a name = "gears.reactive.connect_signal"></a>
    <strong>:connect_signal <span class='function_args'> <b>(</b>name, func<b>)</b></span></strong>
    <span class="proptype"></span>
    <span class="baseclass" >
    &middot;&nbsp;Inherited from gears.object
    </span>
    </dt>
    <dd>
    Connect to a signal.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.3/manual.html#6.4">string</a></span>
         The name of the signal.
        </li>
        <li><span class="parameter">func</span>
            <span class="types"><span class="type">function</span></span>
         The callback to call when the signal is emitted.
        </li>
    </ul>






    <span id=item2773 class="hide_extra">
    </span>

</dd>
    <dt>
    <a name = "gears.reactive.weak_connect_signal"></a>
    <strong>:weak_connect_signal <span class='function_args'> <b>(</b>name, func<b>)</b></span></strong>
    <span class="proptype"></span>
    <span class="baseclass" >
    &middot;&nbsp;Inherited from gears.object
    </span>
    </dt>
    <dd>
    Connect to a signal weakly. </p>

<p> This allows the callback function to be garbage collected and
 automatically disconnects the signal when that happens.</p>

<p> <strong>Warning:</strong>
 Only use this function if you really, really, really know what you
 are doing.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.3/manual.html#6.4">string</a></span>
         The name of the signal.
        </li>
        <li><span class="parameter">func</span>
            <span class="types"><span class="type">function</span></span>
         The callback to call when the signal is emitted.
        </li>
    </ul>






    <span id=item2774 class="hide_extra">
    </span>

</dd>
</dl>
    <h2 class="section-header "><a name="Signals"></a>Signals</h2>

    <dl class="function">
    <dt>
    <a name = "gears.reactive.target_added"></a>
    <strong>target_added</strong>
    <span class="baseclass" >
    </span>
    </dt>
    <dd>
    Emitted when a new property is attached to this reactive expression.

    <h3>Arguments:</h3>
    <ul>
        <li><span class="parameter">object</span>
            <span class="types"><span class="type">gears.object</span></span>
         The object (often the widget).
        </li>
        <li><span class="parameter">property</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.3/manual.html#6.4">string</a></span>
         The property name.
        </li>
    </ul>






    <span id=item2775 class="hide_extra">
    </span>

</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-11-13 00:24:24 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
